When the output of program is going to a terminal (screen), it is line buffered. When the output of program goes to a pipe, it is fully buffered.

First code:

1. printf("Hello");
2. fork();
3. printf("\n");

Output:

Hello
Hello

Analysis:

1. Copies "Hello" into the buffer for standard output. Because there is no newline at the end and the output is running in line-buffered mode (or full-buffered mode), nothing appears on the terminal.

2. Gives us two separate processes, with exactly the same material in the stdout buffer.

3.the child exits normally through the return at the end of main. At that point, the residual data in the stdout buffer is flushed. This leaves the output position at the end of a line since there is no newline

4. The parent comes here.

5. The parent waits for the child to finish dying

6. The parent adds a newline to the output buffer. The newline flushes the 'Hello' message to the output, after the incomplete line generated by the child.

Second code:

1. printf("Hello\n");
2. fork();
3. printf("\n");

Output:

Hello
\n
\n

